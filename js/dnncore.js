var DNN_COL_DELIMITER=String.fromCharCode(16),DNN_ROW_DELIMITER=String.fromCharCode(15),__dnn_m_bPageLoaded=!1,__dnn_oPrevSelPane,__dnn_oPrevSelModule;function __dnn_ClientAPIEnabled(){return"undefined"!=typeof dnn&&void 0!==dnn.dom}function __dnn_Page_OnLoad(){__dnn_ClientAPIEnabled()&&dnn.dom.attachEvent(window,"onscroll",__dnn_bodyscroll),__dnn_m_bPageLoaded=!0}function __dnn_KeyDown(iKeyCode,sFunc,e){if(null==e&&(e=window.event),e.keyCode==iKeyCode)return eval(unescape(sFunc)),!1}function __dnn_bodyscroll(){var n=document.forms[0];__dnn_ClientAPIEnabled()&&__dnn_m_bPageLoaded&&void 0!==n.ScrollTop&&(n.ScrollTop.value=document.documentElement.scrollTop?document.documentElement.scrollTop:dnn.dom.getByTagName("body")[0].scrollTop)}function __dnn_setScrollTop(n){if(__dnn_ClientAPIEnabled()){null==n&&(n=document.forms[0].ScrollTop.value);var e=dnn.getVar("ScrollToControl");if(null!=e&&e.length>0){var o=dnn.dom.getById(e);null!=o&&(n=dnn.dom.positioning.elementTop(o),dnn.setVar("ScrollToControl",""))}"hidden"!=document.getElementsByTagName("html")[0].style.overflow&&window.scrollTo(0,n)}}function __dnn_SetInitialFocus(n){var e=dnn.dom.getById(n);null!=e&&__dnn_CanReceiveFocus(e)&&e.focus()}function __dnn_CanReceiveFocus(n){if("none"!=n.style.display&&n.tabIndex>-1&&0==n.disabled&&"hidden"!=n.style.visible){for(var e=n.parentElement;null!=e&&"BODY"!=e.tagName;){if("none"==e.style.display||e.disabled||"hidden"==e.style.visible)return!1;e=e.parentElement}return!0}return!1}function __dnn_ContainerMaxMin_OnClick(n,e){var o=dnn.dom.getById(e);if(null!=o){var d,t,r,_=n.childNodes[0],l=dnn.getVar("containerid_"+e),a=dnn.getVar("cookieid_"+e),i=_.src.toLowerCase().substr(_.src.lastIndexOf("/"));r=dnn.getVar("min_icon_"+l)?dnn.getVar("min_icon_"+l):dnn.getVar("min_icon"),d=(t=dnn.getVar("max_icon_"+l)?dnn.getVar("max_icon_"+l):dnn.getVar("max_icon")).toLowerCase().substr(t.lastIndexOf("/"));var s=5,c=dnn.getVar("animf_"+e);return null!=c&&(s=new Number(c)),i==d?(_.src=r,dnn.dom.expandElement(o,s),_.title=dnn.getVar("min_text"),null!=a?"true"==dnn.getVar("__dnn_"+l+":defminimized")?dnn.dom.setCookie(a,"true",365):dnn.dom.deleteCookie(a):dnn.setVar("__dnn_"+l+"_Visible","true")):(_.src=t,dnn.dom.collapseElement(o,s),_.title=dnn.getVar("max_text"),null!=a?"true"==dnn.getVar("__dnn_"+l+":defminimized")?dnn.dom.deleteCookie(a):dnn.dom.setCookie(a,"false",365):dnn.setVar("__dnn_"+l+"_Visible","false")),!0}return!1}function __dnn_Help_OnClick(n){var e=dnn.dom.getById(n);return null!=e&&("none"==e.style.display?e.style.display="":e.style.display="none",!0)}function __dnn_SectionMaxMin(n,e){var o=dnn.dom.getById(e);if(null!=o){var d,t=n.getAttribute("max_icon"),r=n.getAttribute("min_icon"),_=null!=n.getAttribute("userctr");return"none"==o.style.display?(n.src=r,o.style.display="",_?d="True":dnn.setVar(n.id+":exp",1)):(n.src=t,o.style.display="none",_?d="False":dnn.setVar(n.id+":exp",0)),_&&dnncore.setUserProp(n.getAttribute("userctr"),n.getAttribute("userkey"),d,null),!0}return!1}function __dnn_enableDragDrop(){for(var n,e=dnn.getVar("__dnn_dragDrop").split(";"),o=0;o<e.length;o++)if((n=e[o].split(" "))[0].length>0){var d=dnn.dom.getById(n[0]),t=dnn.dom.getById(n[1]);null!=d&&null!=t&&(d.setAttribute("moduleid",n[2]),dnn.dom.positioning.enableDragAndDrop(d,t,"__dnn_dragComplete()","__dnn_dragOver()"))}}window.addEventListener?window.addEventListener("load",__dnn_Page_OnLoad,!1):window.attachEvent("onload",__dnn_Page_OnLoad);var __dnn_dragEventCount=0,__dnn_m_aryPanes,__dnn_m_aryModules;function __dnn_dragOver(){if(++__dnn_dragEventCount%75==0){var n=dnn.dom.getById(dnn.dom.positioning.dragCtr.contID),e=__dnn_getMostSelectedPane(dnn.dom.positioning.dragCtr);if(null!=__dnn_oPrevSelPane&&(__dnn_oPrevSelPane.pane.style.border=__dnn_oPrevSelPane.origBorder),null!=e){__dnn_oPrevSelPane=e,e.pane.style.border="4px double "+DNN_HIGHLIGHT_COLOR;for(var o,d,t=__dnn_getPaneControlIndex(n,e),r=0;r<e.controls.length;r++)if(t>r&&e.controls[r].id!=n.id&&(o=e.controls[r]),t<=r&&e.controls[r].id!=n.id){d=e.controls[r];break}null!=__dnn_oPrevSelModule&&(dnn.dom.getNonTextNode(__dnn_oPrevSelModule.control).style.border=__dnn_oPrevSelModule.origBorder),null!=d?(__dnn_oPrevSelModule=d,dnn.dom.getNonTextNode(d.control).style.borderTop="5px groove "+DNN_HIGHLIGHT_COLOR):null!=o&&(__dnn_oPrevSelModule=o,dnn.dom.getNonTextNode(o.control).style.borderBottom="5px groove "+DNN_HIGHLIGHT_COLOR)}}}function __dnn_dragComplete(){var n=dnn.dom.getById(dnn.dom.positioning.dragCtr.contID),e=n.getAttribute("moduleid");null!=__dnn_oPrevSelPane&&(__dnn_oPrevSelPane.pane.style.border=__dnn_oPrevSelPane.origBorder),null!=__dnn_oPrevSelModule&&(dnn.dom.getNonTextNode(__dnn_oPrevSelModule.control).style.border=__dnn_oPrevSelModule.origBorder);var o,d=__dnn_getMostSelectedPane(dnn.dom.positioning.dragCtr);if(null==d)for(var t=__dnn_Panes(),r=0;r<t.length;r++)t[r].id==n.parentNode.id&&(d=t[r]);null!=d&&(__dnn_MoveToPane(d,n,o=__dnn_getPaneControlIndex(n,d)),dnn.callPostBack("MoveToPane","moduleid="+e,"pane="+d.paneName,"order="+2*o))}function __dnn_MoveToPane(n,e,o){if(null!=n){for(var d=new Array,t=o;t<n.controls.length;t++)n.controls[t].control.id!=e.id&&(d[d.length]=n.controls[t].control),dnn.dom.removeChild(n.controls[t].control);dnn.dom.appendChild(n.pane,e),e.style.top=0,e.style.left=0,e.style.position="relative";for(t=0;t<d.length;t++)dnn.dom.appendChild(n.pane,d[t]);__dnn_RefreshPanes()}else e.style.top=0,e.style.left=0,e.style.position="relative"}function __dnn_RefreshPanes(){var n=dnn.getVar("__dnn_Panes").split(";"),e=dnn.getVar("__dnn_PaneNames").split(";");__dnn_m_aryPanes=new Array;for(var o=0;o<n.length;o++)n[o].length>0&&(__dnn_m_aryPanes[__dnn_m_aryPanes.length]=new __dnn_Pane(dnn.dom.getById(n[o]),e[o]))}function __dnn_Panes(){return null==__dnn_m_aryPanes&&(__dnn_m_aryPanes=new Array,__dnn_RefreshPanes()),__dnn_m_aryPanes}function __dnn_Modules(n){return null==__dnn_m_aryModules&&__dnn_RefreshPanes(),__dnn_m_aryModules[n]}function __dnn_getMostSelectedPane(n){for(var e,o,d=new dnn.dom.positioning.dims(n),t=0,r=0;r<__dnn_Panes().length;r++){var _=__dnn_Panes()[r],l=new dnn.dom.positioning.dims(_.pane);(e=dnn.dom.positioning.elementOverlapScore(l,d))>t&&(t=e,o=_)}return o}function __dnn_getPaneControlIndex(n,e){if(null!=e){var o,d=new dnn.dom.positioning.dims(n);if(0==e.controls.length)return 0;for(var t=0;t<e.controls.length;t++){o=e.controls[t];var r=new dnn.dom.positioning.dims(o.control);if(d.t<r.t)return o.index}return null!=o?o.index+1:0}}function __dnn_Pane(n,e){this.pane=n,this.id=n.id,this.controls=new Array,this.origBorder=n.style.border,this.paneName=e;for(var o=0,d="",t=0;t<n.childNodes.length;t++){var r=n.childNodes[t];if(dnn.dom.isNonTextNode(r)){null==__dnn_m_aryModules&&(__dnn_m_aryModules=new Array);var _=r.getAttribute("moduleid");null!=_&&_.length>0&&(d+=_+"~",this.controls[this.controls.length]=new __dnn_PaneControl(r,o),__dnn_m_aryModules[_]=r.id,o+=1)}}this.moduleOrder=d}function __dnn_PaneControl(n,e){this.control=n,this.id=n.id,this.index=e,this.origBorder=n.style.border}function __dnn_ShowModalPage(n){dnnModal.show(n,!0,550,950,!0,"")}function __dnncore(){this.GetUserVal=0,this.SetUserVal=1}__dnncore.prototype={getUserProp:function(n,e,o){this._doUserCallBack(dnncore.GetUserVal,n,e,null,new dnncore.UserPropArgs(n,e,o))},setUserProp:function(n,e,o,d){this._doUserCallBack(dnncore.SetUserVal,n,e,o,new dnncore.UserPropArgs(n,e,d))},_doUserCallBack:function(n,e,o,d,t){if(dnn&&dnn.xmlhttp){var r=n+COL_DELIMITER+e+COL_DELIMITER+o+COL_DELIMITER+d;dnn.xmlhttp.doCallBack("__Page",r,dnncore._callBackSuccess,t,dnncore._callBackFail,null,!0,null,0)}else alert("Client Personalization not enabled")},_callBackSuccess:function(n,e,o){e.pFunc&&e.pFunc(e.namingCtr,e.key,n)},_callBackFail:function(n,e){window.status=n}},__dnncore.prototype.UserPropArgs=function(n,e,o){this.namingCtr=n,this.key=e,this.pFunc=o};var dnncore=new __dnncore;